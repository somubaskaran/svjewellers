"use strict";(self.webpackChunkmantis_free_version=self.webpackChunkmantis_free_version||[]).push([[401],{8401:(ct,p,s)=>{s.r(p),s.d(p,{OrderListComponent:()=>st});var t=s(4438),S=s(177),w=s(636),g=s(9213),O=s(9631),v=s(9417),F=s(1626),M=s(8809),A=s(5794),u=s(6440),c=s(9159),m=s(3);let E=(()=>{class r{static \u0275fac=function(a){return new(a||r)};static \u0275mod=t.$C({type:r});static \u0275inj=t.G2t({imports:[m.yE,m.yE]})}return r})();var _=s(8834),b=s(1830),y=s(7336),k=s(2771),D=s(1413),T=s(7786),x=s(9046);s(9969);const N=["mat-sort-header",""],L=["*"];function P(r,n){1&r&&(t.j41(0,"div",2),t.qSk(),t.j41(1,"svg",3),t.nrm(2,"path",4),t.k0s()())}const C=new t.nKC("MAT_SORT_DEFAULT_OPTIONS");let f=(()=>{class r{_defaultOptions;_initializedStream=new k.m(1);sortables=new Map;_stateChanges=new D.B;active;start="asc";get direction(){return this._direction}set direction(e){this._direction=e}_direction="";disableClear;disabled=!1;sortChange=new t.bkB;initialized=this._initializedStream;constructor(e){this._defaultOptions=e}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let o=function R(r,n){let e=["asc","desc"];return"desc"==r&&e.reverse(),n||e.push(""),e}(e.start||this.start,e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),d=o.indexOf(this.direction)+1;return d>=o.length&&(d=0),o[d]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static \u0275fac=function(a){return new(a||r)(t.rXU(C,8))};static \u0275dir=t.FsC({type:r,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",t.L39],disabled:[2,"matSortDisabled","disabled",t.L39]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[t.GFd,t.OA$]})}return r})(),h=(()=>{class r{changes=new D.B;static \u0275fac=function(a){return new(a||r)};static \u0275prov=t.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const B={provide:h,deps:[[new t.Xx1,new t.kdw,h]],useFactory:function I(r){return r||new h}};let H=(()=>{class r{_intl=(0,t.WQX)(h);_sort=(0,t.WQX)(f,{optional:!0});_columnDef=(0,t.WQX)("MAT_SORT_HEADER_COLUMN_DEF",{optional:!0});_changeDetectorRef=(0,t.WQX)(t.gRc);_focusMonitor=(0,t.WQX)(b.FN);_elementRef=(0,t.WQX)(t.aKT);_ariaDescriber=(0,t.WQX)(b.vr,{optional:!0});_renderChanges;_animationModule=(0,t.WQX)(t.bc$,{optional:!0});_recentlyCleared=(0,t.vPA)(null);_sortButton;id;arrowPosition="after";start;disabled=!1;get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}_sortActionDescription="Sort";disableClear;constructor(){(0,t.WQX)(x.l).load(m.Ah);const e=(0,t.WQX)(C,{optional:!0});e?.arrowPosition&&(this.arrowPosition=e?.arrowPosition)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._sort.register(this),this._renderChanges=(0,T.h)(this._sort._stateChanges,this._sort.sortChange).subscribe(()=>this._changeDetectorRef.markForCheck()),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(()=>this._recentlyCleared.set(null))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._renderChanges?.unsubscribe(),this._sortButton&&this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription)}_toggleOnInteraction(){if(!this._isDisabled()){const e=this._isSorted(),a=this._sort.direction;this._sort.sort(this),this._recentlyCleared.set(e&&!this._isSorted()?a:null)}}_handleKeydown(e){(e.keyCode===y.t6||e.keyCode===y.Fm)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,e)),this._sortActionDescription=e}static \u0275fac=function(a){return new(a||r)};static \u0275cmp=t.VBU({type:r,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(a,o){1&a&&t.bIt("click",function(){return o._toggleOnInteraction()})("keydown",function(dt){return o._handleKeydown(dt)})("mouseleave",function(){return o._recentlyCleared.set(!1)}),2&a&&(t.BMQ("aria-sort",o._getAriaSortAttribute()),t.AVh("mat-sort-header-disabled",o._isDisabled()))},inputs:{id:[0,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[2,"disabled","disabled",t.L39],sortActionDescription:"sortActionDescription",disableClear:[2,"disableClear","disableClear",t.L39]},exportAs:["matSortHeader"],features:[t.GFd],attrs:N,ngContentSelectors:L,decls:4,vars:17,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],["viewBox","0 -960 960 960","focusable","false","aria-hidden","true"],["d","M440-240v-368L296-464l-56-56 240-240 240 240-56 56-144-144v368h-80Z"]],template:function(a,o){1&a&&(t.NAR(),t.j41(0,"div",0)(1,"div",1),t.SdG(2),t.k0s(),t.DNE(3,P,3,0,"div",2),t.k0s()),2&a&&(t.AVh("mat-sort-header-sorted",o._isSorted())("mat-sort-header-position-before","before"===o.arrowPosition)("mat-sort-header-descending","desc"===o._sort.direction)("mat-sort-header-ascending","asc"===o._sort.direction)("mat-sort-header-recently-cleared-ascending","asc"===o._recentlyCleared())("mat-sort-header-recently-cleared-descending","desc"===o._recentlyCleared())("mat-sort-header-animations-disabled","NoopAnimations"===o._animationModule),t.BMQ("tabindex",o._isDisabled()?null:0)("role",o._isDisabled()?null:"button"),t.R7$(3),t.vxM(o._renderArrow()?3:-1))},styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}@keyframes _mat-sort-header-recently-cleared-ascending{from{transform:translateY(0);opacity:1}to{transform:translateY(-25%);opacity:0}}@keyframes _mat-sort-header-recently-cleared-descending{from{transform:translateY(0) rotate(180deg);opacity:1}to{transform:translateY(25%) rotate(180deg);opacity:0}}.mat-sort-header-arrow{height:12px;width:12px;position:relative;transition:transform 225ms cubic-bezier(0.4, 0, 0.2, 1),opacity 225ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0;overflow:visible;color:var(--mat-sort-arrow-color, var(--mat-sys-on-surface))}.mat-sort-header:hover .mat-sort-header-arrow{opacity:.54}.mat-sort-header .mat-sort-header-sorted .mat-sort-header-arrow{opacity:1}.mat-sort-header-descending .mat-sort-header-arrow{transform:rotate(180deg)}.mat-sort-header-recently-cleared-ascending .mat-sort-header-arrow{transform:translateY(-25%)}.mat-sort-header-recently-cleared-ascending .mat-sort-header-arrow{transition:none;animation:_mat-sort-header-recently-cleared-ascending 225ms cubic-bezier(0.4, 0, 0.2, 1) forwards}.mat-sort-header-recently-cleared-descending .mat-sort-header-arrow{transition:none;animation:_mat-sort-header-recently-cleared-descending 225ms cubic-bezier(0.4, 0, 0.2, 1) forwards}.mat-sort-header-animations-disabled .mat-sort-header-arrow{transition-duration:0ms;animation-duration:0ms}.mat-sort-header-arrow svg{width:24px;height:24px;fill:currentColor;position:absolute;top:50%;left:50%;margin:-12px 0 0 -12px;transform:translateZ(0)}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}"],encapsulation:2,changeDetection:0})}return r})(),j=(()=>{class r{static \u0275fac=function(a){return new(a||r)};static \u0275mod=t.$C({type:r});static \u0275inj=t.G2t({providers:[B],imports:[m.yE]})}return r})();var Y=s(8498);const $=()=>[10,20,50];function V(r,n){1&r&&(t.j41(0,"th",27),t.EFF(1," Item Name "),t.k0s())}function X(r,n){if(1&r&&(t.j41(0,"td",28),t.EFF(1),t.k0s()),2&r){const e=n.$implicit;t.R7$(),t.SpI(" ",e.item_name," ")}}function G(r,n){1&r&&(t.j41(0,"th",29),t.EFF(1," Customer Name "),t.k0s())}function z(r,n){if(1&r&&(t.j41(0,"td",28),t.EFF(1),t.k0s()),2&r){const e=n.$implicit;t.R7$(),t.SpI(" ",e.customer_name," ")}}function Q(r,n){1&r&&(t.j41(0,"th",30),t.EFF(1," City "),t.k0s())}function W(r,n){if(1&r&&(t.j41(0,"td",28),t.EFF(1),t.k0s()),2&r){const e=n.$implicit;t.R7$(),t.SpI(" ",e.customer_city," ")}}function Z(r,n){1&r&&(t.j41(0,"th",31),t.EFF(1," Weight "),t.k0s())}function U(r,n){if(1&r&&(t.j41(0,"td",28),t.EFF(1),t.k0s()),2&r){const e=n.$implicit;t.R7$(),t.SpI(" ",e.item_weight," ")}}function K(r,n){1&r&&(t.j41(0,"th",32),t.EFF(1," Number "),t.k0s())}function J(r,n){if(1&r&&(t.j41(0,"td",28),t.EFF(1),t.k0s()),2&r){const e=n.$implicit;t.R7$(),t.SpI(" ",e.customer_number," ")}}function q(r,n){1&r&&(t.j41(0,"th",33),t.EFF(1," Due Date "),t.k0s())}function tt(r,n){if(1&r&&(t.j41(0,"td",28),t.EFF(1),t.k0s()),2&r){const e=n.$implicit;t.R7$(),t.SpI(" ",e.due_date," ")}}function et(r,n){1&r&&(t.j41(0,"th",33),t.EFF(1," Status "),t.k0s())}function rt(r,n){if(1&r&&(t.j41(0,"td",28),t.EFF(1),t.k0s()),2&r){const e=n.$implicit;t.R7$(),t.SpI(" ",e.status," ")}}function it(r,n){1&r&&(t.j41(0,"th",34),t.EFF(1," Actions "),t.k0s())}function ot(r,n){if(1&r){const e=t.RV6();t.j41(0,"td",28)(1,"button",35),t.bIt("click",function(){const o=t.eBV(e).$implicit,d=t.XpG();return t.Njj(d.viewOrder(o))}),t.j41(2,"mat-icon"),t.EFF(3,"remove_red_eye"),t.k0s()(),t.j41(4,"button",35),t.bIt("click",function(){const o=t.eBV(e).$implicit,d=t.XpG();return t.Njj(d.editOrder(o))}),t.j41(5,"mat-icon"),t.EFF(6,"edit"),t.k0s()(),t.j41(7,"button",35),t.bIt("click",function(){const o=t.eBV(e).$implicit,d=t.XpG();return t.Njj(d.deleteOrder(o))}),t.j41(8,"mat-icon"),t.EFF(9,"delete"),t.k0s()()()}}function at(r,n){1&r&&t.nrm(0,"tr",36)}function nt(r,n){1&r&&t.nrm(0,"tr",37)}let st=(()=>{class r{constructor(e,a){this._formBuilder=e,this.router=a,this.OrderService=(0,t.WQX)(M.Q),this.requestParam={current:0,pasgesize:10,order:{direction:"",active:""}},this.displayedColumns=["itemName","customerName","customerCity","weight","customerNumber","dueDate","status","actions"],this.dataSource=new c.I6}ngAfterViewInit(){}ngOnInit(){this.getOrderList()}getOrderList(){this.OrderService.getOrderList(this.requestParam).subscribe({next:e=>{const a=e.data.data;console.log(a),a.forEach(o=>{0==o.status?o.status="created":1==o.status?o.status="in progress":2==o.status?o.status="on hold":3==o.status&&(o.status="delivered")}),this.dataSource=new c.I6(a),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},error:e=>{},complete:()=>{}})}orderFormSubmit(){this.orderForm.valid&&this.OrderService.addOrder({data:{customerName:this.orderForm.value.customerName,customerEmail:this.orderForm.value.customerEmail,customerPhone:this.orderForm.value.customerPhone}}).subscribe({next:o=>{console.log(o.data.data)},error:o=>{},complete:()=>{}})}addOrder(){this.router.navigate(["/add-order"],{queryParams:{type:"add"}})}editOrder(e){this.router.navigate(["/add-order"],{queryParams:{id:e.id,type:"edit"}})}deleteOrder(e){this.OrderService.deleteOrder({deleteId:e.id}).subscribe({next:o=>{console.log(o.data.data),this.getOrderList()},error:o=>{},complete:()=>{}})}viewOrder(e){this.router.navigate(["/add-order"],{queryParams:{id:e.id,type:"view"}})}announceSortChange(){}static{this.\u0275fac=function(a){return new(a||r)(t.rXU(v.ok),t.rXU(Y.Ix))}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["app-order-list"]],viewQuery:function(a,o){if(1&a&&(t.GBs(u.iy,5),t.GBs(f,5)),2&a){let d;t.mGM(d=t.lsd())&&(o.paginator=d.first),t.mGM(d=t.lsd())&&(o.sort=d.first)}},features:[t.Jv_([F.Qq])],decls:36,vars:5,consts:[[1,"row","orderListPage"],[1,"col-sm-12"],[1,"row"],[1,"example-button-container","addBtn"],["mat-fab","","extended","",1,"btn",3,"click"],["cardTitle","Order"],[1,"mat-elevation-z8","OrderTableDiv"],["mat-table","","matSort","",3,"matSortChange","dataSource"],["matColumnDef","itemName"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by itemName",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","customerName"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by customerName",4,"matHeaderCellDef"],["matColumnDef","customerCity"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by customerCity",4,"matHeaderCellDef"],["matColumnDef","weight"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by weight",4,"matHeaderCellDef"],["matColumnDef","customerNumber"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by customerNumber",4,"matHeaderCellDef"],["matColumnDef","dueDate"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by dueDate",4,"matHeaderCellDef"],["matColumnDef","status"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by itemName"],["mat-cell",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by customerName"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by customerCity"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by weight"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by customerNumber"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by dueDate"],["mat-header-cell",""],[1,"iconBtn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(a,o){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),t.bIt("click",function(){return o.addOrder()}),t.EFF(5,"Add"),t.k0s()()(),t.j41(6,"app-card",5)(7,"div",6)(8,"table",7),t.bIt("matSortChange",function(){return o.announceSortChange()}),t.qex(9,8),t.DNE(10,V,2,0,"th",9)(11,X,2,1,"td",10),t.bVm(),t.qex(12,11),t.DNE(13,G,2,0,"th",12)(14,z,2,1,"td",10),t.bVm(),t.qex(15,13),t.DNE(16,Q,2,0,"th",14)(17,W,2,1,"td",10),t.bVm(),t.qex(18,15),t.DNE(19,Z,2,0,"th",16)(20,U,2,1,"td",10),t.bVm(),t.qex(21,17),t.DNE(22,K,2,0,"th",18)(23,J,2,1,"td",10),t.bVm(),t.qex(24,19),t.DNE(25,q,2,0,"th",20)(26,tt,2,1,"td",10),t.bVm(),t.qex(27,21),t.DNE(28,et,2,0,"th",20)(29,rt,2,1,"td",10),t.bVm(),t.qex(30,22),t.DNE(31,it,2,0,"th",23)(32,ot,10,0,"td",10),t.bVm(),t.DNE(33,at,1,0,"tr",24)(34,nt,1,0,"tr",25),t.k0s(),t.nrm(35,"mat-paginator",26),t.k0s()()()()),2&a&&(t.R7$(8),t.Y8G("dataSource",o.dataSource),t.R7$(25),t.Y8G("matHeaderRowDef",o.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",o.displayedColumns),t.R7$(),t.Y8G("pageSizeOptions",t.lJ4(4,$)))},dependencies:[S.MD,A.i,w.RG,O.fS,g.m_,g.An,v.X1,c.tP,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.KS,c.$R,c.YZ,c.NB,u.Ou,u.iy,E,_.Hl,_.Sr,j,f,H],styles:[".orderListPage[_ngcontent-%COMP%]   .addBtn[_ngcontent-%COMP%]{text-align:right}.orderListPage[_ngcontent-%COMP%]   .addBtn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:150px;height:auto;margin:10px;background:#1890ff;border-radius:25px;color:#fff;font-size:16px;padding:9px;font-weight:600}.orderListPage[_ngcontent-%COMP%]   .OrderTableDiv[_ngcontent-%COMP%]{overflow-x:scroll}.orderListPage[_ngcontent-%COMP%]   .OrderTableDiv[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:13px;font-weight:700;color:#fff}.orderListPage[_ngcontent-%COMP%]   .iconBtn[_ngcontent-%COMP%]{border:none;background:none}table[_ngcontent-%COMP%]{width:100%}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#000}"]})}}return r})()}}]);